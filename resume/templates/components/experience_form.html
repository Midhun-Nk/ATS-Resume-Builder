{% load widget_tweaks %}
<h2 class="text-xl font-bold mb-4 text-gray-800 dark:text-gray-100">Frist Experience</h2>
    <div class="-mx-3 md:flex mb-6">
      <div class="md:w-1/3 px-3">
        <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">Name</label>
        {{ experience_form.first_experience|add_class:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-300 rounded py-3 px-4" }}
      </div>
      <div class="md:w-1/3 px-3">
        <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">Summary</label>
        {{ experience_form.summary|add_class:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-300 rounded py-3 px-4" }}
      </div>
      <div class="md:w-1/3 px-3">
        <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">Description 1</label>
        {{ experience_form.first_description1|add_class:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-300 rounded py-3 px-4" }}
      </div>
    </div>

    <div class="-mx-3 md:flex mb-6">
      <div class="md:w-1/3 px-3">
        <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">Description 2</label>
        {{ experience_form.first_description2|add_class:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-300 rounded py-3 px-4" }}
      </div>
      <div class="md:w-1/3 px-3">
        <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">Start Date</label>
        {{ experience_form.first_exp_startdate|add_class:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-300 rounded py-3 px-4" }}
      </div>
      <div class="md:w-1/3 px-3">
        <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">End Date</label>
        {{ experience_form.first_exp_enddate|add_class:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-300 rounded py-3 px-4" }}
      </div>

    </div>
<h2 class="text-xl font-bold mb-4 text-gray-800 dark:text-gray-100">Second Experience</h2>
    <div class="-mx-3 md:flex mb-6">
      <div class="md:w-1/3 px-3">
        <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">Name</label>
        {{ experience_form.second_experience|add_class:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-300 rounded py-3 px-4" }}
      </div>
      <div class="md:w-1/3 px-3">
        <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">Summary</label>
        {{ experience_form.summary|add_class:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-300 rounded py-3 px-4" }}
      </div>
      <div class="md:w-1/3 px-3">
        <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">Description 1</label>
        {{ experience_form.second_description1|add_class:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-300 rounded py-3 px-4" }}
      </div>
    </div>

    <div class="-mx-3 md:flex mb-6">
      <div class="md:w-1/3 px-3">
        <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">Description 2</label>
        {{ experience_form.second_description2|add_class:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-300 rounded py-3 px-4" }}
      </div>
      <div class="md:w-1/3 px-3">
        <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">Start Date</label>
        {{ experience_form.second_exp_startdate|add_class:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-300 rounded py-3 px-4" }}
      </div>
      <div class="md:w-1/3 px-3">
        <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">End Date</label>
        {{ experience_form.second_exp_enddate|add_class:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-300 rounded py-3 px-4" }}
      </div>

    </div>

  <div class="space-y-6 mt-6">
  {% for exp in experience_instance %}
   <div
  class="experience-card bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 border border-gray-200 dark:border-gray-700 cursor-pointer hover:shadow-lg transition"
  onclick="populateExperienceForm(`{{ exp.experience }}`, `{{ exp.summary }}`, `{{ exp.description1 }}`, `{{ exp.description2 }}`, `{{ exp.startdate }}`, `{{ exp.enddate }}`)">

      <h2 class="text-xl font-semibold text-gray-800 dark:text-gray-100 mb-2">
        {{ exp.experience }}
      </h2>
      <p class="text-gray-600 dark:text-gray-300 mb-1">
        <span class="font-medium text-gray-700 dark:text-gray-200">Summary:</span> {{ exp.summary }}
      </p>
      <ul class="list-disc list-inside text-gray-600 dark:text-gray-300 mb-2 space-y-1">
        <li>{{ exp.description1 }}</li>
        <li>{{ exp.description2 }}</li>
      </ul>
      <div class="text-sm text-gray-500 dark:text-gray-400">
        <span class="mr-2">üìÖ <strong>From:</strong> {{ exp.startdate }}</span>
        <span>‚û°Ô∏è <strong>To:</strong> {{ exp.enddate }}</span>
      </div>
    </div>
  {% endfor %}
</div>
<script>
  function populateExperienceForm(experience, summary, description1, description2, startdate, enddate) {
    document.querySelector('[name="experience"]').value = experience;
    document.querySelector('[name="summary"]').value = summary;
    document.querySelector('[name="description1"]').value = description1;
    document.querySelector('[name="description2"]').value = description2;
    document.querySelector('[name="startdate"]').value = startdate;
    document.querySelector('[name="enddate"]').value = enddate;

    // Remove highlight from all experience cards
    document.querySelectorAll('.experience-card').forEach(card => {
      card.classList.remove('ring-2', 'ring-blue-400', 'shadow-lg');
    });

    // Add highlight to the clicked card
    event.currentTarget.classList.add('ring-2', 'ring-blue-400', 'shadow-lg');
  }
</script>
